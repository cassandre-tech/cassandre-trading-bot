import{_ as o,r as i,o as r,c,b as t,d as a,a as s,e}from"./app-bb6d68d1.js";const l={},d=t("h1",{id:"position-management",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#position-management","aria-hidden":"true"},"#"),a(" Position management")],-1),p=t("p",null,"Cassandre provides a simple way to manage your positions automatically.",-1),u=t("h2",{id:"long-position",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#long-position","aria-hidden":"true"},"#"),a(" Long position")],-1),h={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#createLongPosition%28tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal,tech.cassandre.trading.bot.dto.position.PositionRulesDTO%29",target:"_blank",rel:"noopener noreferrer"},g=t("ul",null,[t("li",null,"The currency pair, for example, ETH/USDT."),t("li",null,"The amount, for example, 0.5."),t("li",null,"The rules, for example, 100% stop gain and 50% stop loss.")],-1),b={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionRulesDTO.html",target:"_blank",rel:"noopener noreferrer"},w=e(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">PositionRulesDTO</span> rules<span class="token operator">=</span><span class="token class-name">PositionRulesDTO</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">stopGainPercentage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">stopLossPercentage</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, you can create the position:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">createLongPosition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CurrencyPairDTO</span><span class="token punctuation">(</span><span class="token constant">ETH</span><span class="token punctuation">,</span><span class="token constant">BTC</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rules<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),m={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#OPENING",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#OPENED",target:"_blank",rel:"noopener noreferrer"},f={class:"custom-container tip"},_=t("p",{class:"custom-container-title"},"TIP",-1),v={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#canBuy%28tech.cassandre.trading.bot.dto.user.AccountDTO,tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal%29",target:"_blank",rel:"noopener noreferrer"},T=t("p",null,"From now on, for every ticker received, Cassandre will automatically calculate the position gain to see if it triggers one of our two rules (100% stop gain and 50% stop loss).",-1),y={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#CLOSING",target:"_blank",rel:"noopener noreferrer"},D={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#CLOSED",target:"_blank",rel:"noopener noreferrer"},P={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getGain%28%29",target:"_blank",rel:"noopener noreferrer"},O=t("h2",{id:"short-position",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#short-position","aria-hidden":"true"},"#"),a(" Short position")],-1),C={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#createShortPosition(tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal,tech.cassandre.trading.bot.dto.position.PositionRulesDTO)",target:"_blank",rel:"noopener noreferrer"},j=e(`<p>Let&#39;s say you create a short position on 1 ETH with this command:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">createShortPosition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CurrencyPairDTO</span><span class="token punctuation">(</span><span class="token constant">ETH</span><span class="token punctuation">,</span><span class="token constant">BTC</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rules<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Cassandre will sell 1 ETH for 1 500 USDT and wait until the price is down enough to buy 2 ETH with the 1 500 USDT.</p>`,3),S={class:"custom-container tip"},E=t("p",{class:"custom-container-title"},"TIP",-1),G={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#canSell%28tech.cassandre.trading.bot.dto.util.CurrencyDTO,java.math.BigDecimal%29",target:"_blank",rel:"noopener noreferrer"},x=t("h2",{id:"gains",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#gains","aria-hidden":"true"},"#"),a(" Gains")],-1),L={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html",target:"_blank",rel:"noopener noreferrer"},N={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getLowestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},B={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getHighestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},H={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getLatestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},I={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getGain()",target:"_blank",rel:"noopener noreferrer"};function U(A,R){const n=i("ExternalLinkIcon");return r(),c("div",null,[d,p,u,t("p",null,[a("You can create a long position with the "),t("a",h,[a("createLongPosition()"),s(n)]),a(" method with those parameters:")]),g,t("p",null,[a("The first step is to create the rules you want to apply to the position thanks to the "),t("a",b,[a("PositionRulesDTO"),s(n)]),a(" class like this:")]),w,t("p",null,[a("At this moment, Cassandre will create a buy order of 0.5 ETH (1 ETH costs 1500 USDT) that will cost 750 USDT. The position status will be "),t("a",m,[a("OPENING"),s(n)]),a(" and, when all the corresponding trades have arrived, the status will be "),t("a",k,[a("OPENED"),s(n)]),a(" .")]),t("div",f,[_,t("p",null,[a("Note: if you want to check if you have enough funds available (at least 750 USDT in our case) before creating the position, you can use the "),t("a",v,[a("canBuy()"),s(n)]),a(" method.")])]),T,t("p",null,[a('For example, if we receive a ticker with a price of 3000 USDT for 1 ETH, Cassandre will calculate that if we sell our position right now (AKA "closing the position"), we will get 1 500 USDT, a 100% gain. As our rule is triggered, Cassandre will automatically create a selling order of our 0.5 ETH. The position status will move to '),t("a",y,[a("CLOSING"),s(n)]),a(" , and when all the corresponding trades have arrived, the status will be "),t("a",D,[a("CLOSED"),s(n)]),a(" .")]),t("p",null,[a("You can know your exact gain on this position by calling its "),t("a",P,[a("getGain()"),s(n)]),a(" method.")]),O,t("p",null,[a("A "),t("a",C,[a("short position"),s(n)]),a(" works the opposite way. With a short position, you bet that the price will go down.")]),j,t("div",S,[E,t("p",null,[a("Note: if you want to check if you have enough funds available (at 1 ETH in our case) before creating the position, you can use the "),t("a",G,[a("canSell()"),s(n)]),a(" method.")])]),x,t("p",null,[a("On "),t("a",L,[a("PositionDTO"),s(n)]),a(", you can get the:")]),t("ul",null,[t("li",null,[a("The lowest calculated gain with "),t("a",N,[a("getLowestCalculatedGain()"),s(n)])]),t("li",null,[a("The highest calculated gain with "),t("a",B,[a("getHighestCalculatedGain()"),s(n)])]),t("li",null,[a("The latest calculated gain with "),t("a",H,[a("getLatestCalculatedGain()"),s(n)])])]),t("p",null,[a("On a closed position, you can get the gain & fees with "),t("a",I,[a("getGain()"),s(n)])])])}const V=o(l,[["render",U],["__file","strategy-positions-management.html.vue"]]);export{V as default};
